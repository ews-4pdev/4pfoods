<?php



/**
 * Skeleton subclass for representing a row from the 'suppliers' table.
 *
 *
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    propel.generator.ormroot
 */
class Suppliers extends BaseSuppliers
{
    function preSave(PropelPDO $con = null)
    {
        if( $this->isNew() || $this->getActive() == true )
        {
            return parent::preSave($con); // TODO: Change the autogenerated stub
        }
        // check if this Supplier has any dependent Food Item.
        $dependentItems = ItemSupplierQuery::create()->findBySupplierId( $this->getId() );
        if( count($dependentItems) > 1 )
        {
            return false;
        }
        return parent::preSave($con);
    }

}
